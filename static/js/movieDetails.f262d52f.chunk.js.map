{"version":3,"sources":["views/MovieDetailsPage/MovieDetailsPage.module.css","views/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["module","exports","MovieCast","lazy","MovieReview","MovieDetailsPage","useState","film","setFilm","movieId","useParams","history","useHistory","location","useLocation","url","useRouteMatch","useEffect","fetchMovieDetails","then","movie","type","onClick","push","state","from","className","s","btn","wrapper","src","backdrop_path","alt","title","rating","vote_average","textInfo","overview","link","exact","to","activeClassName","active","fallback","path"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,IAAM,8BAA8B,QAAU,kCAAkC,MAAQ,gCAAgC,OAAS,iCAAiC,SAAW,mCAAmC,KAAO,+BAA+B,OAAS,mC,yGCe3QC,EAAYC,gBAAK,kBACrB,gCAEIC,EAAcD,gBAAK,kBACvB,gCAwEaE,UArEU,WACvB,MAAwBC,mBAAS,MAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAEQC,EAAYC,cAAZD,QACFE,EAAUC,cACVC,EAAWC,cACTC,EAAQC,cAARD,IAKR,GAHAE,qBAAU,WACRC,YAAkBT,GAASU,MAAK,SAACC,GAAD,OAAWZ,EAAQY,QAClD,CAACX,IACS,OAATF,EACF,OAAO,oDAOT,OACE,qCACE,wBAAQc,KAAK,SAASC,QANP,WAAO,IAAD,EACvBX,EAAQY,KAAR,OAAaV,QAAb,IAAaA,GAAb,UAAaA,EAAUW,aAAvB,aAAa,EAAiBC,OAKeC,UAAWC,IAAEC,IAAxD,qBAGA,sBAAKF,UAAWC,IAAEE,QAAlB,UACE,qBAAKC,IAAG,UAlCC,mCAkCD,OAAgBvB,EAAKwB,eAAiBC,IAAKzB,EAAK0B,QACxD,gCACE,oBAAIP,UAAWC,IAAEM,MAAjB,SAAyB1B,EAAK0B,QAC9B,oBAAGP,UAAWC,IAAEO,OAAhB,qBAAiC3B,EAAK4B,gBACtC,mBAAGT,UAAWC,IAAES,SAAhB,SAA2B7B,EAAK8B,cAGlC,+BACE,oBAAIX,UAAWC,IAAEW,KAAjB,SACE,cAAC,IAAD,CACEC,OAAK,EACLC,GAAE,UAAKzB,EAAL,YAAYN,EAAZ,SACFiB,UAAWC,IAAEW,KACbG,gBAAiBd,IAAEe,OAJrB,oBASF,oBAAIhB,UAAWC,IAAEW,KAAjB,SACE,cAAC,IAAD,CACEC,OAAK,EACLC,GAAE,UAAKzB,EAAL,YAAYN,EAAZ,YACFiB,UAAWC,IAAEW,KACbG,gBAAiBd,IAAEe,OAJrB,0BAUJ,cAAC,WAAD,CAAUC,SAAU,4CAApB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOC,KAAI,UAAK7B,EAAL,YAAYN,EAAZ,SAA4B8B,OAAK,EAA5C,SACE,cAACrC,EAAD,CAAWO,QAASA,MAEtB,cAAC,IAAD,CAAOmC,KAAI,UAAK7B,EAAL,YAAYN,EAAZ,YAA+B8B,OAAK,EAA/C,SACE,cAACnC,EAAD,CAAaK,QAASA","file":"static/js/movieDetails.f262d52f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MovieDetailsPage_btn__3J1vu\",\"wrapper\":\"MovieDetailsPage_wrapper__3EImx\",\"title\":\"MovieDetailsPage_title__2u4gA\",\"rating\":\"MovieDetailsPage_rating__2STSX\",\"textInfo\":\"MovieDetailsPage_textInfo__bjI35\",\"link\":\"MovieDetailsPage_link__3YUOH\",\"active\":\"MovieDetailsPage_active__1339_\"};","import { Button } from \"@mui/material\";\r\nimport { useState, useEffect, lazy, Suspense } from \"react\";\r\nimport { useParams } from \"react-router\";\r\nimport {\r\n  NavLink,\r\n  useRouteMatch,\r\n  useHistory,\r\n  useLocation,\r\n  Switch,\r\n  Route,\r\n} from \"react-router-dom\";\r\nimport { fetchMovieDetails } from \"../../services/movieApi\";\r\nimport s from \"./MovieDetailsPage.module.css\";\r\n\r\nconst BASE_URL = \"https://image.tmdb.org/t/p/w500\";\r\n\r\nconst MovieCast = lazy(() =>\r\n  import(\"./MovieCast\" /* webpackChunkName: \"cast\" */)\r\n);\r\nconst MovieReview = lazy(() =>\r\n  import(\"./MovieReview\" /*webpackChunkName: \"reviews\" */)\r\n);\r\n\r\nconst MovieDetailsPage = () => {\r\n  const [film, setFilm] = useState(null);\r\n\r\n  const { movieId } = useParams();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const { url } = useRouteMatch();\r\n\r\n  useEffect(() => {\r\n    fetchMovieDetails(movieId).then((movie) => setFilm(movie));\r\n  }, [movieId]);\r\n  if (film === null) {\r\n    return <h1> no data available</h1>;\r\n  }\r\n\r\n  const handleBack = () => {\r\n    history.push(location?.state?.from);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <button type=\"button\" onClick={handleBack} className={s.btn}>\r\n        Go back\r\n      </button>\r\n      <div className={s.wrapper}>\r\n        <img src={`${BASE_URL}${film.backdrop_path}`} alt={film.title} />\r\n        <div>\r\n          <h1 className={s.title}>{film.title}</h1>\r\n          <p className={s.rating}>rating: {film.vote_average}</p>\r\n          <p className={s.textInfo}>{film.overview}</p>\r\n        </div>\r\n\r\n        <ul>\r\n          <li className={s.link}>\r\n            <NavLink\r\n              exact\r\n              to={`${url}/${movieId}/cast`}\r\n              className={s.link}\r\n              activeClassName={s.active}\r\n            >\r\n              Cast\r\n            </NavLink>\r\n          </li>\r\n          <li className={s.link}>\r\n            <NavLink\r\n              exact\r\n              to={`${url}/${movieId}/reviews`}\r\n              className={s.link}\r\n              activeClassName={s.active}\r\n            >\r\n              Reviews\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n        <Suspense fallback={<h1>Loading...</h1>}>\r\n          <Switch>\r\n            <Route path={`${url}/${movieId}/cast`} exact>\r\n              <MovieCast movieId={movieId} />\r\n            </Route>\r\n            <Route path={`${url}/${movieId}/reviews`} exact>\r\n              <MovieReview movieId={movieId} />\r\n            </Route>\r\n          </Switch>\r\n        </Suspense>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MovieDetailsPage;\r\n"],"sourceRoot":""}